<!DOCTYPE html>
<html lang="en">

<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>

<body>



  <section class="vh-100" style="background-color: #eee;">
    <div class="container h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col-lg-12 col-xl-11">
          <div class="card text-black" style="border-radius: 25px;">
            <div class="card-body p-md-5">
              <div class="row justify-content-center">
                <div class="col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1">

                  <p class="text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4">Monthly Premiums Calculation</p>

                  <form class="mx-1 mx-md-4" (ngSubmit)="open()">

                    <div class="d-flex flex-row align-items-center mb-4">
                      <i class="fas fa-user fa-lg me-3 fa-fw"></i>
                      <div class="form-outline flex-fill mb-0">
                        <input required minlength="3" type="text" [(ngModel)]="username" id="username" name="username"
                          class="form-control" placeholder="Username" #name="ngModel" />
                        <br>

                        <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">

                          <div *ngIf="name.errors?.['required']">
                            Name is required.
                          </div>
                          <div *ngIf="name.errors?.['minlength']">
                            Name must be at least 3 characters long.
                          </div>
                        </div>
                      </div>
                    </div>


                    <div class="d-flex flex-row align-items-center mb-4">
                      <i class="fas fa-lock fa-lg me-3 fa-fw"></i>
                      <div class="form-outline flex-fill mb-0">
                        <input type="date" required (ngModelChange)="calculateAge()" [(ngModel)]="selecteddate"
                          #dob="ngModel" [min]="minDate" [max]="maxDate" class="form-control" name="dateOfBirth" />
                        <br>
                        <div *ngIf="dob.invalid" class="alert alert-danger">

                          <div *ngIf="dob.errors?.['required']">
                            Date Of Birth feild is required.
                          </div>


                        </div>
                      </div>
                    </div>

                    <div class="d-flex flex-row align-items-center mb-4">
                      <i class="fas fa-envelope fa-lg me-3 fa-fw"></i>
                      <div class="form-outline flex-fill mb-0">
                        <input type="number" [(ngModel)]="age" id="age" class="form-control" placeholder="Age"
                          name="age" disabled="true" />
                        <br>
                      </div>
                    </div>


                    <div class="d-flex flex-row align-items-center mb-4">
                      <i class="fas fa-envelope fa-lg me-3 fa-fw"></i>
                      <div class="form-outline flex-fill mb-0">
                        <select required #occupany="ngModel" class="form-select" name="occupation" aria-label="Default select example" [(ngModel)]="occupationSelected" (change)="onChange($event.target)">
                          <option selected="selected" value="-1">Select Occupany</option>
                          <option value="Light Manual">Cleaner</option>
                          <option value="Professional">Doctor</option>
                          <option value="White Collar">Author</option>
                          <option value="Heavy Manual">Farmer</option>
                          <option value="Heavy Manual">Mechanic</option>
                          <option value="Light Manual">Florist</option>
                        </select>
                        <br>
                        <br>
                        <div *ngIf="occupany.invalid" class="alert alert-danger">
                          <div *ngIf="occupany.invalid && (occupany.dirty || occupany.touched)">
                            Occupany feild is required.
                          </div>
                        </div>
                      </div>
                    </div>


                    <div class="d-flex flex-row align-items-center mb-4">
                      <i class="fas fa-envelope fa-lg me-3 fa-fw"></i>
                      <div class="form-outline flex-fill mb-0">
                        <input type="number" pattern="[0-9]*" required minlength="2" [(ngModel)]="sumInsured"
                          id="sumInsured" class="form-control" name="sumInsured" placeholder="Sum Insured"
                          #insured="ngModel" />
                        <br>
                        <div *ngIf="insured.invalid && (insured.dirty || insured.touched)" class="alert alert-danger">

                          <div *ngIf="insured.errors?.['required']">
                            Sum Insured feild is required.
                          </div>
                          <div *ngIf="insured.errors?.['minlength']">
                            Sum Insured feild must be at least 2 characters long.
                          </div>
                          <div *ngIf="insured.errors?.['pattern']">
                            Sum Insured must be greater than 0
                          </div>

                        </div>
                      </div>
                    </div>
<br>
                    <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
                     Death Premium  = {{deathPremium}}
                    </div>
<br>
                    <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
                      <button type="button" (click)="open()" class="btn btn-primary btn-lg">Submit</button>
                    </div>

                  </form>

                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

</body>

</html>